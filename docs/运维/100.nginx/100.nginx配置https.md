---
title: nginx配置https
permalink: /nginx-https.html
date: 2020-06-11 13:37:42
categories:
  - 运维
  - nginx
  - https
tags:
  - https
  - nginx
  - 安全
---

::: tip
建议申请支持泛域名的 https 证书, 当拥有很多 3 级域名的时候, 会减少很多工作量
:::

## 申请 https 证书

证书有收费的，也有免费的。但是免费的足够用，也很稳定，推荐使用。

### 访问[freessl](https://freessl.cn/)

免费的证书:

- TRUST ASIA  
  有效期 1 年，支持双域名
- Let's Encrypt V2  
  有效期 3 个月, 支持通配符，即泛域名<br>
  虽然比“TRUST ASIA”的有效期短，但是支持泛域名，这样可以为以后带来便利。否则，以后每次新增一个 3 级域名，都需要重复走一遍申请流程。

### 验证

### 下载证书文件

## 配置 https 证书

在 server 指令下增加如下配置

```
#https端口
listen       443 ssl;

#https的证书配置, 按自身情况改为实际路径
ssl_certificate    /etc/nginx/cert/_.sofineday.com.full_chain.pem;
ssl_certificate_key    /etc/nginx/cert/_.sofineday.com.private.key;

```
