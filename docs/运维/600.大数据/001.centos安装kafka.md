---
title: centos安装kafka
permalink: /centos-install-kafka.html
date: 2020-07-21 22:20:16
categories:
  - 运维
  - 大数据
tags:
  - kafka
  - 大数据
---

# centos 安装 kafka

## 约定

CentOS-7-x86_64-Minimal-1503-01  
kafka 服务 IP：10.96.15.231  
zookeeper 服务 IP：10.96.15.190  
生产者验证服务器 IP：10.96.15.69  
消费者验证服务器 IP：10.96.15.201

## 准备资源

/root/jdk-8u77-linux-x64.rpm  
/root/kafka_2.11-0.10.1.0.tgz

## 安装

### 安装 zookeeper 服务(收消息)

firewall-cmd --add-port 2181/tcp --permanent  
firewall-cmd --reload  
rpm -ivh /root/jdk-8u77-linux-x64.rpm  
tar -zxvf /root/kafka_2.11-0.10.1.0.tgz  
cd /root/kafka_2.11-0.10.1.0  
./bin/zookeeper-server-start.sh ./config/zookeeper.properties

### 安装 kafka 服务(发消息)

firewall-cmd --add-port 9092/tcp --permanent  
firewall-cmd --reload  
rpm -ivh /root/jdk-8u77-linux-x64.rpm  
tar -zxvf /root/kafka_2.11-0.10.1.0.tgz  
cd /root/kafka_2.11-0.10.1.0  
vi ./config/server.properties

```
zookeeper.connect=10.96.15.190:2181
advertised.host.name=10.96.15.231
```

![](https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200721222618.png)  
./bin/kafka-server-start.sh config/server.properties

### 安装生产者验证服务器

rpm -ivh /root/jdk-8u77-linux-x64.rpm  
tar -zxvf /root/kafka_2.11-0.10.1.0.tgz

### 安装消费者验证服务器

同“安装生产者验证服务器”。

## 验证

### 发消息（登录生产者验证服务器）

cd /root/kafka_2.11-0.10.1.0  
./bin/kafka-console-producer.sh --broker-list 10.96.15.231:9092 --topic my-replicated-topic  
![](https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200721222821.png)

### 收消息（登录消费者验证服务器）

cd /root/kafka_2.11-0.10.1.0  
./bin/kafka-console-consumer.sh --bootstrap-server 10.96.15.231:9092 --from-beginning --topic my-replicated-topic  
![](https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200721222951.png)
