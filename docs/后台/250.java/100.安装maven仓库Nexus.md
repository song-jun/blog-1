---
title: 安装maven仓库Nexus
permalink: /java-install-Nexus.html
date: 2020-06-28 23:15:27
categories:
  - java
tags:
  - java
  - 仓库
  - jar
---

# 安装 maven 仓库 Nexus

## 约定

CentOS-7-x86_64-Minimal-1503-01  
Nexus IP：10.96.15.73

## 准备资源

| 名称  | 服务器路径                       | 获取地址                                                                             |
| ----- | -------------------------------- | ------------------------------------------------------------------------------------ |
| jdk   | /root/jdk-8u77-linux-x64.rpm     |
| Nexus | /root/nexus-3.2.0-01-unix.tar.gz | 　https://sonatype-download.global.ssl.fastly.net/nexus/3/nexus-3.2.0-01-unix.tar.gz |

## 安装

firewall-cmd --add-port 80/tcp --permanent  
firewall-cmd --reload  
rpm -ivh /root/jdk-8u77-linux-x64.rpm  
tar -zxvf /root/nexus-3.2.0-01-unix.tar.gz  
sed -i 's/8081/80/g' **/root/nexus-3.2.0-01**/etc/nexus-default.properties

## 运行服务

::: tip
有 3 种方式  
:::

- 原始方式  
   **/root/nexus-3.2.0-01**/bin/nexus start  
  ![20200628232441.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628232441.png)
- 通过 init.d  
   ln -s **/root/nexus-3.2.0-01**/bin/nexus /etc/init.d/nexus  
   chkconfig --add nexus  
   chkconfig --levels 345 nexus on  
   service nexus start  
  ![20200628232515.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628232515.png)
- 通过 systemd  
  vi /etc/systemd/system/nexus.service

```
[Unit]
Description=nexus service
After=network.target

[Service]
Type=forking
ExecStart=/root/nexus-3.2.0-01/bin/nexus start
ExecStop=/root/nexus-3.2.0-01/bin/nexus stop
User=root
Restart=on-abort

[Install]
WantedBy=multi-user.target
```

systemctl daemon-reload  
systemctl enable nexus.service
![20200628232951.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628232951.png)  
systemctl start nexus.service

## 查看日志

tail -f /root/sonatype-work/nexus3/log/nexus.log  
![20200628233030.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233030.png)

## 数据迁移

迁移/root/sonatype-work 即可：所有数据都保存在该目录下

## 验证

1. 访问http://10.96.15.73  
   ![20200628233054.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233054.png)

2. 登录
   账号：admin  
   密码：admin123

## 备注

- 服务启动较慢  
  需等待几秒  
  netstat -antp | grep 80  
  ![20200628233127.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233127.png)

- 重点配置  
  ![20200628233556.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233556.png)
