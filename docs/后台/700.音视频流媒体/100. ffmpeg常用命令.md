---
title: ffmpeg常用命令
permalink: /ffmpeg-common-command.html
date: 2020-06-19 10:05:52
categories:
  - 音视频
  - 流媒体
  - ffmpeg
tags:
  - 音视频
  - 流媒体
  - ffmpeg
---

# ffmpeg 常用命令

## 采集音频设备

ffmpeg -f dshow -i audio="麦克飿(Realtek High Definition Au" ./output.ts

## 采集摄像头

ffmpeg -f dshow -i video="USB 2.0 UVC HD Webcam" -i sample.mp4 -map 0:0 -map 1:1 -c:v:0 libx264 -c:a:0 copy output.ts

## 采集桌面

- 实例 1

ffmpeg -f dshow -r 10000/1001 -i video="screen-capture-recorder":audio="virtual-audio-capturer" -c:v libx264 -c:a
libvo_aacenc -f flv rtmp://220.181.161.53/liveshow/stream1

- 实例 2

ffmpeg -f gdigrab -framerate 6 -i desktop -i sample.mp4 -map 0:0 -map 1:1 -c:v:0 libx264 -c:a:0 copy -f flv
rtmp://220.181.161.53/liveshow/stream1

## 列出采集设备

ffmpeg -list_devices true -f dshow -i dummy

## 生成视频截图

ffmpeg -i "街头艺人之创意表演--高丽华 .mp4" -f image2 -ss 00:00:49 -frames:v 1 街头艺人之创意表演--高丽华.jpg -y

## 解析视频信息

ffprobe -i sample.mp4 -print_format xml -sexagesimal -show_format -show_entries
format=filename,format_name,format_long_name,duration,size,bit_rate:stream=codec_type,codec_name,codec_long_name,r_frame_rate,avg_frame_rate,bit_rate,sample_rate,channels,width,height
1> ffprobeLog.txt
