---
title: vuepress支持全文搜索
date: 2020-06-08 14:38:14
permalink: /vuepress-fulltext-search.html
categories:
  - 其它
  - vuepress
tags:
  - 全文检索
  - 全文搜索
  - 搜索
---

# vuepress 支持全文搜索

## 通过插件 vuepress-plugin-fulltext-search 实现全文搜索

- 安装依赖 vuepress-plugin-fulltext-search
  ::: tip
  执行 yarn add -D vuepress-plugin-fulltext-search -D 会报错, 所以使用 npm 安装
  :::
  npm install -D @vuepress/plugin-pwa

- 修改配置
  vi docs/.vuepress/config.js

```
  module.exports = {
  // ...
  plugins: ['fulltext-search'],
  }
```

::: tip
安装了该依赖后, 后面再用 yarn 安装其它依赖会报错,为避免影响其它插件正常使用,我最后决定从系统中移除了该插件
:::

> [参考文档](https://github.com/leo-buneev/vuepress-plugin-fulltext-search)

::: tip
发现的不足:

1. 没有提供额外的调整参数, 如最大搜索结果数量等
2. 搜索出的结果项中显示的锚点位置不正确，以致于点击结果项，不会定位到完全准确的位置
   :::

> [官方文档](https://github.com/leo-buneev/vuepress-plugin-fulltext-search)

## 通过插件 vuepress-plugin-flexsearch 实现全文搜索

优点: 提供了更多的配置项
不足: 不支持中文关键词搜索

> [官方文档](https://github.com/z3by/vuepress-plugin-flexsearch)

## 集成第三方免费搜索服务 algolia

::: tip
还未验证通过
:::

> [官方文档](https://algolia.com)

- 访问[Algolia DocSearch](https://community.algolia.com/docsearch/)  
  输入自己的博客服务访问地址和邮箱  
  ![20200609104358.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104358.png)
- Algolia DocSearch 会发送确认邮件，收到后需要回复一下这个网站是你自己的，并且可以修改网站代码  
  ![20200609104609.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104609.png)
- Algolia DocSearch 会发送一封使用邮件，里面有 apiKey 和 indexName  
  ![20200609104643.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104643.png)
- 修改配置文件 config.js  
  apiKey 和 indexName 就是上面邮件中的内容  
  ![20200609104802.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104802.png)

**最终的页面效果**  
![20200609104909.png](https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104909.png)
