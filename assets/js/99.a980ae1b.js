(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{595:function(n,t,e){"use strict";e.r(t);var s=e(26),r=Object(s.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"nginx-配置-301-重定向"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nginx-配置-301-重定向"}},[n._v("#")]),n._v(" nginx 配置 301 重定向")]),n._v(" "),e("h2",{attrs:{id:"http-重定向到-https"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-重定向到-https"}},[n._v("#")]),n._v(" http 重定向到 https")]),n._v(" "),e("p",[n._v("参考如下配置")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('# 将"http的www域名"重定向到"https的www域名"\nserver {\n    #http端口\n    listen       80;\n\n    server_name  www.sofineday.com;\n\n    access_log /var/log/nginx/www.sofineday.com.access_log;\n    error_log /var/log/nginx/www.sofineday.com.error_log;\n\n    return 301 https://www.sofineday.com$request_uri;\n}\n\n# 配置https的www域名\nserver {\n    #https端口\n    listen       443 ssl;\n\n    server_name  www.sofineday.com;\n\n    access_log /var/log/nginx/www.sofineday.com.access_log;\n    error_log /var/log/nginx/www.sofineday.com.error_log;\n\n    #https的证书配置\n    ssl_certificate    /etc/nginx/cert/_.sofineday.com.full_chain.pem;\n    ssl_certificate_key    /etc/nginx/cert/_.sofineday.com.private.key;\n\n\n    root /static-file/blog;\n}\n')])])]),e("h2",{attrs:{id:"主域名重定向到-www-域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主域名重定向到-www-域名"}},[n._v("#")]),n._v(" 主域名重定向到 www 域名")]),n._v(" "),e("p",[n._v("参考如下配置")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('# 将"http的主域名"重定向到"http的www域名"\nserver {\n    #http端口\n    listen       80;\n\n    server_name  sofineday.com;\n\n    access_log /var/log/nginx/sofineday.com.access_log;\n    error_log /var/log/nginx/sofineday.com.error_log;\n\n    return 301 http://www.sofineday.com$request_uri;\n}\n\n# 将"http的www域名"重定向到"https的www域名"\nserver {\n    #http端口\n    listen       80;\n\n    server_name  www.sofineday.com;\n\n    access_log /var/log/nginx/www.sofineday.com.access_log;\n    error_log /var/log/nginx/www.sofineday.com.error_log;\n\n    root /static-file/blog;\n}\n')])])]),e("h2",{attrs:{id:"将-主域名或-http-域名-都重定向到-https-的-www-域名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#将-主域名或-http-域名-都重定向到-https-的-www-域名"}},[n._v("#")]),n._v(' 将"主域名或 http 域名"都重定向到 https 的 www 域名')]),n._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[n._v("TIP")]),n._v(" "),e("p",[n._v("推荐该方案，终极方案，考虑得最完善！\n做 seo 优化时，需要考虑该方案，详见"),e("RouterLink",{attrs:{to:"/seo-redirect.html"}},[n._v("seo 重定向")])],1)]),n._v(" "),e("p",[n._v("参考如下配置")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('# 将"http或https的主域名"重定向到"https的www域名"\nserver {\n    #http端口\n    listen       80;\n    #https端口\n    listen       443 ssl;\n\n    server_name  sofineday.com;\n\n    access_log /var/log/nginx/sofineday.com.access_log;\n    error_log /var/log/nginx/sofineday.com.error_log;\n\n    #https的证书配置\n    ssl_certificate    /etc/nginx/cert/_.sofineday.com.full_chain.pem;\n    ssl_certificate_key    /etc/nginx/cert/_.sofineday.com.private.key;\n\n    return 301 https://www.sofineday.com$request_uri;\n}\n\n# 将"http的www域名"重定向到"https的www域名"\nserver {\n    #http端口\n    listen       80;\n\n    server_name  www.sofineday.com;\n\n    access_log /var/log/nginx/www.sofineday.com.access_log;\n    error_log /var/log/nginx/www.sofineday.com.error_log;\n\n    return 301 https://www.sofineday.com$request_uri;\n}\n\n# 配置https的www域名\nserver {\n    #https端口\n    listen       443 ssl;\n\n    server_name  www.sofineday.com;\n\n    access_log /var/log/nginx/www.sofineday.com.access_log;\n    error_log /var/log/nginx/www.sofineday.com.error_log;\n\n    #https的证书配置\n    ssl_certificate    /etc/nginx/cert/_.sofineday.com.full_chain.pem;\n    ssl_certificate_key    /etc/nginx/cert/_.sofineday.com.private.key;\n\n\n    root /static-file/blog;\n}\n')])])])])}),[],!1,null,null,null);t.default=r.exports}}]);