(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{581:function(n,e,o){"use strict";o.r(e);var r=o(26),t=Object(r.a)({},(function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[o("h1",{attrs:{id:"springboot-long-类型-json-转换丢失精度"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#springboot-long-类型-json-转换丢失精度"}},[n._v("#")]),n._v(" springboot Long 类型 json 转换丢失精度")]),n._v(" "),o("p",[n._v("Long 类型的变量在做 json 序列话后，会丢失精度。处理方法为将 Long 类型转换为 String 类型。"),o("br"),n._v("\n处理方法：增加 1 个配置类即可。")]),n._v(" "),o("h2",{attrs:{id:"创建配置类文件"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#创建配置类文件"}},[n._v("#")]),n._v(" 创建配置类文件")]),n._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[n._v("package com.ruiboyun.facehr.config;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.std.ToStringSerializer;\nimport org.springframework.boot.jackson.JsonComponent;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\n\n/**\n * json序列化配置\n */\n@JsonComponent\npublic class JsonSerializerConfig {\n\n    @Bean\n    public ObjectMapper jacksonObjectMapper(Jackson2ObjectMapperBuilder builder) {\n        ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(Long.class, ToStringSerializer.instance);\n        module.addSerializer(Long.TYPE, ToStringSerializer.instance);\n        objectMapper.registerModule(module);\n        return objectMapper;\n    }\n}\n")])])])])}),[],!1,null,null,null);e.default=t.exports}}]);