(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{574:function(t,s,e){"use strict";e.r(s);var r=e(26),a=Object(r.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"安装-maven-仓库-nexus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-maven-仓库-nexus"}},[t._v("#")]),t._v(" 安装 maven 仓库 Nexus")]),t._v(" "),e("h2",{attrs:{id:"约定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#约定"}},[t._v("#")]),t._v(" 约定")]),t._v(" "),e("p",[t._v("CentOS-7-x86_64-Minimal-1503-01"),e("br"),t._v("\nNexus IP：10.96.15.73")]),t._v(" "),e("h2",{attrs:{id:"准备资源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备资源"}},[t._v("#")]),t._v(" 准备资源")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("名称")]),t._v(" "),e("th",[t._v("服务器路径")]),t._v(" "),e("th",[t._v("获取地址")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("jdk")]),t._v(" "),e("td",[t._v("/root/jdk-8u77-linux-x64.rpm")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Nexus")]),t._v(" "),e("td",[t._v("/root/nexus-3.2.0-01-unix.tar.gz")]),t._v(" "),e("td",[t._v("https://sonatype-download.global.ssl.fastly.net/nexus/3/nexus-3.2.0-01-unix.tar.gz")])])])]),t._v(" "),e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),e("p",[t._v("firewall-cmd --add-port 80/tcp --permanent"),e("br"),t._v("\nfirewall-cmd --reload"),e("br"),t._v("\nrpm -ivh /root/jdk-8u77-linux-x64.rpm"),e("br"),t._v("\ntar -zxvf /root/nexus-3.2.0-01-unix.tar.gz"),e("br"),t._v("\nsed -i 's/8081/80/g' "),e("strong",[t._v("/root/nexus-3.2.0-01")]),t._v("/etc/nexus-default.properties")]),t._v(" "),e("h2",{attrs:{id:"运行服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行服务"}},[t._v("#")]),t._v(" 运行服务")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("有 3 种方式")])]),t._v(" "),e("ul",[e("li",[t._v("原始方式"),e("br"),t._v(" "),e("strong",[t._v("/root/nexus-3.2.0-01")]),t._v("/bin/nexus start"),e("br"),t._v(" "),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628232441.png",alt:"20200628232441.png"}})]),t._v(" "),e("li",[t._v("通过 init.d"),e("br"),t._v("\nln -s "),e("strong",[t._v("/root/nexus-3.2.0-01")]),t._v("/bin/nexus /etc/init.d/nexus"),e("br"),t._v("\nchkconfig --add nexus"),e("br"),t._v("\nchkconfig --levels 345 nexus on"),e("br"),t._v("\nservice nexus start"),e("br"),t._v(" "),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628232515.png",alt:"20200628232515.png"}})]),t._v(" "),e("li",[t._v("通过 systemd"),e("br"),t._v("\nvi /etc/systemd/system/nexus.service")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[Unit]\nDescription=nexus service\nAfter=network.target\n\n[Service]\nType=forking\nExecStart=/root/nexus-3.2.0-01/bin/nexus start\nExecStop=/root/nexus-3.2.0-01/bin/nexus stop\nUser=root\nRestart=on-abort\n\n[Install]\nWantedBy=multi-user.target\n")])])]),e("p",[t._v("systemctl daemon-reload"),e("br"),t._v("\nsystemctl enable nexus.service\n"),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628232951.png",alt:"20200628232951.png"}}),e("br"),t._v("\nsystemctl start nexus.service")]),t._v(" "),e("h2",{attrs:{id:"查看日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[t._v("#")]),t._v(" 查看日志")]),t._v(" "),e("p",[t._v("tail -f /root/sonatype-work/nexus3/log/nexus.log"),e("br"),t._v(" "),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233030.png",alt:"20200628233030.png"}})]),t._v(" "),e("h2",{attrs:{id:"数据迁移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数据迁移"}},[t._v("#")]),t._v(" 数据迁移")]),t._v(" "),e("p",[t._v("迁移/root/sonatype-work 即可：所有数据都保存在该目录下")]),t._v(" "),e("h2",{attrs:{id:"验证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("访问http://10.96.15.73"),e("br"),t._v(" "),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233054.png",alt:"20200628233054.png"}})])]),t._v(" "),e("li",[e("p",[t._v("登录\n账号：admin"),e("br"),t._v("\n密码：admin123")])])]),t._v(" "),e("h2",{attrs:{id:"备注"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#备注"}},[t._v("#")]),t._v(" 备注")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("服务启动较慢"),e("br"),t._v("\n需等待几秒"),e("br"),t._v("\nnetstat -antp | grep 80"),e("br"),t._v(" "),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233127.png",alt:"20200628233127.png"}})])]),t._v(" "),e("li",[e("p",[t._v("重点配置"),e("br"),t._v(" "),e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200628233556.png",alt:"20200628233556.png"}})])])])])}),[],!1,null,null,null);s.default=a.exports}}]);