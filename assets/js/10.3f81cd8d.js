(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{508:function(t,a,s){"use strict";s.r(a);var e=s(26),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"linux-日志管理工具-logrotate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-日志管理工具-logrotate"}},[t._v("#")]),t._v(" linux 日志管理工具 logrotate")]),t._v(" "),s("p",[t._v("logrotate 可以管理已有的独立的日志文件，可以手动或定时对某个日志文件进行切割、压缩、删除历史日志文件等。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("本文以 tomcat 日志为例，进行讲解。")])]),t._v(" "),s("h2",{attrs:{id:"创建配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建配置文件"}},[t._v("#")]),t._v(" 创建配置文件")]),t._v(" "),s("p",[t._v("vi /etc/logrotate.d/tomcat")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/usr/local/apache-tomcat-7.0.47/logs/catalina.out\n{\n        daily\n        rotate 7\n        dateext\n        copytruncate\n        missingok\n        nocompress\n}\n")])])]),s("h2",{attrs:{id:"执行日志管理任务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行日志管理任务"}},[t._v("#")]),t._v(" 执行日志管理任务")]),t._v(" "),s("h3",{attrs:{id:"手动执行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动执行"}},[t._v("#")]),t._v(" 手动执行")]),t._v(" "),s("p",[t._v("/usr/sbin/logrotate -f /etc/logrotate.conf")]),t._v(" "),s("h3",{attrs:{id:"定时执行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定时执行"}},[t._v("#")]),t._v(" 定时执行")]),t._v(" "),s("p",[t._v("crontab -e:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("0 0 * * * /usr/sbin/logrotate -f /etc/logrotate.conf\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);